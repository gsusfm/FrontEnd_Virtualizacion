<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
      <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InfoMedallas</title>
	<!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
     <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
     <!-- Morris Chart Styles-->
    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
        <!-- Custom Styles-->
    <link href="assets/css/custom-styles.css" rel="stylesheet" />
     <!-- Google Fonts-->
   <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
</head>
<body>
    <div id="wrapper">
        <nav class="navbar navbar-default top-navbar" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="ingreso.html">InfoMedallas</a>
            </div>
            <!-- Barra superior -->
            <ul class="nav navbar-top-links navbar-right">
                <!-- Parte Usuario -->
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
                        <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="#"><i class="fa fa-user fa-fw"></i> Perfil del Usuario</a>
                        </li>
                        <li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                        </li>
                    </ul>
                </li>
                <!-- Fin Usuario -->
            </ul>
        </nav>
        <!-- Menú lateral -->
        <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">
					<li>
                        <a href="chart.html" class="active-menu"><i class="fa fa-edit"></i>Ingreso datos</a>
                    </li>
                    <li>
                        <a href="index.html"><i class="fa fa-bar-chart-o"></i>Datos</a>
                    </li>
                </ul>
            </div>
        </nav>
        <!--Fin Menú lateral -->

        <!-- Titulo -->
        <div id="page-wrapper" >
            <div id="page-inner">
			 <div class="row">
                    <div class="col-md-12">
                        <h1 class="page-header">
                            Cargar Información <small> Cargar información de las medallas</small>
                        </h1>
                    </div>
                </div> 
                 <!-- Fin Titulo -->
                
                <!--Cuadro contenedor-->
                <div class="panel panel-default">
                    <div class="panel-heading">Cargar Archivo</div>
                    <div class="panel-body">
                        <div class="panel-heading">Por favor, cargo el archivo “csv” con la información de las medallas para poder cargar los resultados en la pagina de Datos.</div>
                        <!--Botón de carga de archivo-->

                        <form id="form"  method="post" enctype="multipart/form-data">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Carga de archivo</label>
                                    <input id = "csvFile" type="file" accept=".csv" />
                                </div>
                                <br>
                                <!--Botones de subir información y eliminar-->
                                <div class="col-lg-10">
                                   <!-- <input id="submit" type="button" name="submit" value="submit" href="#" class="btn btn-primary btn-lg"><i class="glyphicon glyphicon-open"></i></input>-->
                                
                                 <input type="submit" value="Subir archivos"/>
                                
                                    <button href="#" class="btn btn-danger btn-lg"><i class="glyphicon glyphicon-remove"></i> Delete</button>
                                </div>
                             </div>
                        </form>
                           
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                        <script>
                            $("#form").on("submit", function(e){
                               
                                var fileSelect = $("#csvFile");
                                var files = fileSelect[0].files;
                                // Create a new FormData object.
                                var formData = new FormData();
                                
                                debugger;
                                 formData.append(csv_received = request.files[0].name, files[0], files[0].name);

                                 $.ajax({  
                                     url:"http://localhost:5000/result",  
                                     method:"POST",  
                                     data: formData,  
                                     contentType:false,          // The content type used when sending data to the server.  
                                     cache:false,                // To unable request pages to be cached  
                                     processData:false,          // To send DOMDocument or non processed data file it is set to false  
                                     success: function(data){  
                                         debugger;
                                     },
                                    error: function(XMLHttpRequest, textStatus, errorThrown) { 
                                        debugger;
                                    }  
                                })  
                            });

                        </script>

                    </div>
                </div>
                <!--Fin de cuadro contenedor-->

				<footer><p>All right reserved. Template by: <a href="http://webthemez.com">WebThemez</a></p></footer>
				</div>
            </div>
        </div>
     <!-- /. WRAPPER  -->
    <!-- JS Scripts-->
    <!-- jQuery Js -->
    <script src="assets/js/jquery-1.10.2.js"></script>
      <!-- Bootstrap Js -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- Metis Menu Js -->
    <script src="assets/js/jquery.metisMenu.js"></script>
</body>
</html>
